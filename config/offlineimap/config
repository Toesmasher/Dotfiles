[general]
accounts = nicke,spambox,lumenradio
ui = ttyui
pythonfile = ~/.config/offlineimap/offlineimap.py
maxconnections = 1
maxsyncaccounts = 3

[Account nicke]
localrepository = nicke-local
remoterepository = nicke-remote
autorefresh = 1

[Repository nicke-local]
type = Maildir
localfolders = ~/Mail/nicke
restoreatime = no

[Repository nicke-remote]
type = IMAP
remotehost = imap.gmail.com
remoteuser = nicke@toesmasher.se
auth_mechanisms = XOAUTH2
oauth2_request_url = https://accounts.google.com/o/oauth2/token
oauth2_client_id = 541987573942-5us1b6pi8j3psa9i101e0s9hbcc79icp.apps.googleusercontent.com
oauth2_client_secret_eval = get_token("email/toesmasher.se-secret")
oauth2_refresh_token_eval = get_token("email/nicke-token")
ssl = yes
sslcacertfile = /etc/ssl/certs/ca-certificates.crt

[Account spambox]
localrepository = spambox-local
remoterepository = spambox-remote
autorefresh = 1

[Repository spambox-local]
type = Maildir
localfolders = ~/Mail/spambox
restoreatime = no

[Repository spambox-remote]
type = IMAP
remotehost = imap.gmail.com
remoteuser = spambox@toesmasher.se
auth_mechanisms = XOAUTH2
oauth2_request_url = https://accounts.google.com/o/oauth2/token
oauth2_client_id = 541987573942-5us1b6pi8j3psa9i101e0s9hbcc79icp.apps.googleusercontent.com
oauth2_client_secret_eval = get_token("email/toesmasher.se-secret")
oauth2_refresh_token_eval = get_token("email/spambox-token")
ssl = yes
sslcacertfile = /etc/ssl/certs/ca-certificates.crt

[Account lumenradio]
localrepository = lumenradio-local
remoterepository = lumenradio-remote
autorefresh = 1

[Repository lumenradio-local]
type = Maildir
localfolders = ~/Mail/lumenradio
restoreatime = no

[Repository lumenradio-remote]
type = IMAP
remotehost = outlook.office365.com
remoteuser = niklas.berggren@lumenradio.com
auth_mechanisms = XOAUTH2
oauth2_request_url = https://login.microsoftonline.com/common/oauth2/v2.0/token
oauth2_client_id = 08162f7c-0fd2-4200-a84a-f25a4db0b584
oauth2_client_secret = TxRBilcHdC6WGBee]fs?QR:SJ8nI[g82
oauth2_refresh_token_eval = get_token("work/email-token")
ssl = yes
sslcacertfile = /etc/ssl/certs/ca-certificates.crt

folderfilter = lambda folder: not folder.startswith('Calendar') and not folder.startswith('Contacts')
